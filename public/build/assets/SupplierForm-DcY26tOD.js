import{u as h,j as e,H as b,L as c}from"./app-DAYDMe4G.js";import{H as j}from"./HeadquartersLayout-47UsUVQt.js";function N({supplier:a,categories:i}){const l=!!a,{data:t,setData:o,post:u,put:x,processing:n,errors:r,reset:f}=h({name:a?.name||"",description:a?.description||"",product_categories:a?.product_categories||[],notes:a?.notes||"",status:a?.status||"active"}),m=s=>{s.preventDefault(),l?x(`/headquarters/suppliers/${a.id}`):u("/headquarters/suppliers")},g=s=>{const d=t.product_categories.includes(s)?t.product_categories.filter(p=>p!==s):[...t.product_categories,s];o("product_categories",d)};return e.jsxs(j,{children:[e.jsx(b,{title:l?"تعديل مورد":"إضافة مورد جديد"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l?"تعديل بيانات المورد":"إضافة مورد جديد"}),e.jsx("p",{className:"text-gray-600 mt-1",children:l?"قم بتعديل بيانات المورد":"أدخل بيانات المورد الجديد"})]}),e.jsx(c,{href:"/headquarters/suppliers",className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"عودة للقائمة"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:e.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم المورد *"}),e.jsx("input",{type:"text",value:t.name,onChange:s=>o("name",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"مثال: شركة جيهان للتوريدات",required:!0}),r.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"فئات المنتجات التي يوفرها المورد *"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(i).map(([s,d])=>e.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.product_categories.includes(s),onChange:()=>g(s),className:"ml-2 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:d})]},s))}),r.product_categories&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.product_categories})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"وصف المورد"}),e.jsx("textarea",{value:t.description,onChange:s=>o("description",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"وصف عام عن المورد ونوعية منتجاته"}),r.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ملاحظات"}),e.jsx("textarea",{value:t.notes,onChange:s=>o("notes",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"أي ملاحظات إضافية"}),r.notes&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.notes})]}),l&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"حالة المورد"}),e.jsxs("select",{value:t.status,onChange:s=>o("status",s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"active",children:"نشط"}),e.jsx("option",{value:"inactive",children:"غير نشط"})]}),r.status&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.status})]}),e.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse pt-6 border-t border-gray-200",children:[e.jsx(c,{href:"/headquarters/suppliers",className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"إلغاء"}),e.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:n?"جاري الحفظ...":l?"تحديث البيانات":"إضافة المورد"})]})]})})]})})]})}export{N as default};
