import{a as p,r as i,j as e,H as f,L as v}from"./app-DAYDMe4G.js";import{H as N}from"./HeadquartersLayout-47UsUVQt.js";import{L as y,D as w,B as k,C,a as M,b as L,P as A,c as S,d as D,p as $,e as B,f as W,A as P}from"./index-Ct2ldFtK.js";C.register(M,L,A,S,D,$,B,W,P);function F(){const{representativeId:z}=p().props,[d,m]=i.useState("performance"),[H,G]=i.useState("monthly"),[c,h]=i.useState("2025-08"),r={name:"أحمد محمد علي",phone:"07701234567",area:"منطقة الكرادة",baseSalary:1e6,monthlyPerformance:{"2025-08":{salesAmount:158e5,returnedGoods:42e4,totalBoxes:320,cashCollected:142e5,invoicesCount:45,clientsDebt:16e5,profit:158e4,targets:{food:{target:1500,achieved:1355,percentage:90.3},cleaning:{target:1200,achieved:980,percentage:81.7}}},"2025-07":{salesAmount:142e5,returnedGoods:38e4,totalBoxes:295,cashCollected:131e5,invoicesCount:42,clientsDebt:11e5,profit:142e4,targets:{food:{target:1500,achieved:1180,percentage:78.7},cleaning:{target:1200,achieved:1050,percentage:87.5}}},"2025-06":{salesAmount:168e5,returnedGoods:29e4,totalBoxes:350,cashCollected:152e5,invoicesCount:48,clientsDebt:13e5,profit:168e4,targets:{food:{target:1500,achieved:1620,percentage:108},cleaning:{target:1200,achieved:1150,percentage:95.8}}}},supplierSales:{"شركة جيهان":{target:3e3,achieved:2e3,remaining:1e3,category:"غذائية",monthlyData:[1800,1950,2100,2e3,1850,2e3]},"شركة الروان":{target:4e3,achieved:2e3,remaining:2e3,category:"منظفات",monthlyData:[1600,1800,2200,2e3,1900,2e3]},"شركة سدرة العائلة":{target:2500,achieved:1800,remaining:700,category:"مختلطة",monthlyData:[1400,1600,1750,1800,1700,1800]}}},a=t=>new Intl.NumberFormat("en-US").format(t)+" د.ع",l=t=>new Intl.NumberFormat("en-US").format(t),o=t=>t>=100?"text-green-600":t>=80?"text-yellow-600":"text-red-600",s=r.monthlyPerformance[c],g={labels:["Mar 2025","Apr 2025","May 2025","Jun 2025","Jul 2025","Aug 2025"],datasets:[{label:"المبيعات",data:[12e6,135e5,152e5,168e5,142e5,158e5],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:3,fill:!0,tension:.1},{label:"الربح",data:[12e5,135e4,152e4,168e4,142e4,158e4],borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,fill:!0,tension:.1}]},b={labels:Object.keys(r.supplierSales),datasets:[{label:"المحقق",data:Object.values(r.supplierSales).map(t=>t.achieved),backgroundColor:"#10b981",borderColor:"#059669",borderWidth:1},{label:"الهدف",data:Object.values(r.supplierSales).map(t=>t.target),backgroundColor:"#e5e7eb",borderColor:"#9ca3af",borderWidth:1}]},u={labels:["المواد الغذائية","المنظفات"],datasets:[{data:[s.targets.food.percentage,s.targets.cleaning.percentage],backgroundColor:["#f59e0b","#3b82f6"],borderColor:["#d97706","#2563eb"],borderWidth:2}]},x={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12},color:"#6b7280"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",callbacks:{label:function(t){return`${t.dataset.label}: ${a(t.parsed.y)}`}}}},scales:{y:{beginAtZero:!0,grid:{color:"#e5e7eb"},ticks:{color:"#6b7280",callback:function(t){return a(t)}}},x:{grid:{color:"#e5e7eb"},ticks:{color:"#6b7280"}}}},j={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{font:{size:12},color:"#6b7280"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",callbacks:{label:function(t){return`${t.label}: ${t.parsed}%`}}}}};return e.jsxs(N,{children:[e.jsx(f,{title:`تفاصيل المندوب - ${r.name}`}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[e.jsx(v,{href:"/headquarters/representatives",className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r.name}),e.jsxs("p",{className:"text-gray-600",children:[r.area," - ",r.phone]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsxs("select",{value:c,onChange:t=>h(t.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"2025-08",children:"August 2025"}),e.jsx("option",{value:"2025-07",children:"July 2025"}),e.jsx("option",{value:"2025-06",children:"June 2025"})]}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border bg-green-100 text-green-800 border-green-200",children:"نشط"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a(s.salesAmount)}),e.jsx("div",{className:"text-sm text-gray-600",children:"إجمالي المبيعات"})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a(s.profit)}),e.jsx("div",{className:"text-sm text-gray-600",children:"الربح المحقق"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}),e.jsx("div",{className:"bg-purple-50 rounded-xl p-6 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:l(s.totalBoxes)}),e.jsx("div",{className:"text-sm text-gray-600",children:"إجمالي الكراتين"})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})]})}),e.jsx("div",{className:"bg-orange-50 rounded-xl p-6 border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:l(s.invoicesCount)}),e.jsx("div",{className:"text-sm text-gray-600",children:"عدد الفواتير"})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 space-x-reverse",children:[{id:"performance",name:"الأداء العام",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},{id:"targets",name:"الأهداف والإنجازات",icon:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"},{id:"suppliers",name:"أداء الموردين",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{id:"financial",name:"التفاصيل المالية",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}].map(t=>e.jsxs("button",{onClick:()=>m(t.id),className:`${d===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 space-x-reverse`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t.icon})}),e.jsx("span",{children:t.name})]},t.id))})}),d==="performance"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"اتجاه المبيعات والأرباح"}),e.jsx("div",{style:{height:"300px"},children:e.jsx(y,{data:g,options:x})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ملخص الأداء الشهري"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"صافي المبيعات"}),e.jsx("span",{className:"font-bold text-green-600",children:a(s.salesAmount-s.returnedGoods)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"النقد المحصل"}),e.jsx("span",{className:"font-bold text-blue-600",children:a(s.cashCollected)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"ديون العملاء"}),e.jsx("span",{className:"font-bold text-orange-600",children:a(s.clientsDebt)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"البضاعة المرتجعة"}),e.jsx("span",{className:"font-bold text-red-600",children:a(s.returnedGoods)})]})]})]})]}),d==="targets"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"نسب تحقيق الأهداف"}),e.jsx("div",{style:{height:"250px"},children:e.jsx(w,{data:u,options:j})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"تفصيل الأهداف"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"المواد الغذائية"}),e.jsxs("span",{className:`text-sm font-bold ${o(s.targets.food.percentage)}`,children:[s.targets.food.percentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[e.jsxs("span",{children:["الهدف: ",l(s.targets.food.target)]}),e.jsxs("span",{children:["المحقق: ",l(s.targets.food.achieved)]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${s.targets.food.percentage>=100?"bg-green-500":s.targets.food.percentage>=80?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,s.targets.food.percentage)}%`}})})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"المنظفات"}),e.jsxs("span",{className:`text-sm font-bold ${o(s.targets.cleaning.percentage)}`,children:[s.targets.cleaning.percentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[e.jsxs("span",{children:["الهدف: ",l(s.targets.cleaning.target)]}),e.jsxs("span",{children:["المحقق: ",l(s.targets.cleaning.achieved)]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${s.targets.cleaning.percentage>=100?"bg-green-500":s.targets.cleaning.percentage>=80?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,s.targets.cleaning.percentage)}%`}})})]})]})]})]})}),d==="suppliers"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"أداء المبيعات حسب الموردين"}),e.jsx("div",{style:{height:"300px"},children:e.jsx(k,{data:b,options:x})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.entries(r.supplierSales).map(([t,n])=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:t}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"الفئة:"}),e.jsx("span",{className:"font-medium text-purple-600",children:n.category})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"الهدف:"}),e.jsx("span",{className:"font-bold",children:l(n.target)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"المحقق:"}),e.jsx("span",{className:"font-bold text-green-600",children:l(n.achieved)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"الباقي:"}),e.jsx("span",{className:"font-bold text-red-600",children:l(n.remaining)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded-full",style:{width:`${n.achieved/n.target*100}%`}})}),e.jsxs("div",{className:"text-center text-xs text-gray-500 mt-1",children:[(n.achieved/n.target*100).toFixed(1),"% مكتمل"]})]})]},t))})]}),d==="financial"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"تفصيل الراتب والحوافز"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"الراتب الأساسي"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a(r.baseSalary)}),e.jsx("div",{className:"text-sm text-gray-600",children:"راتب ثابت شهري"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"الحافز المحسوب"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:a(285e3)}),e.jsx("div",{className:"text-sm text-gray-600",children:"حسب نظام الأهداف"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"الإجمالي"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a(r.baseSalary+285e3)}),e.jsx("div",{className:"text-sm text-gray-600",children:"الراتب النهائي"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"التفاصيل المالية الشاملة"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"المبيعات والتحصيل"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"إجمالي المبيعات:"}),e.jsx("span",{className:"font-bold",children:a(s.salesAmount)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"البضاعة المرتجعة:"}),e.jsx("span",{className:"text-red-600",children:a(s.returnedGoods)})]}),e.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[e.jsx("span",{className:"text-gray-900 font-medium",children:"صافي المبيعات:"}),e.jsx("span",{className:"font-bold text-green-600",children:a(s.salesAmount-s.returnedGoods)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"النقد المحصل:"}),e.jsx("span",{className:"font-bold text-blue-600",children:a(s.cashCollected)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"المتبقي (ديون):"}),e.jsx("span",{className:"text-orange-600",children:a(s.clientsDebt)})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"الأرباح والحوافز"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"الربح المحقق:"}),e.jsx("span",{className:"font-bold text-green-600",children:a(s.profit)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"نسبة الربح:"}),e.jsxs("span",{className:"font-medium",children:[(s.profit/s.salesAmount*100).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"عدد الفواتير:"}),e.jsx("span",{className:"font-medium",children:l(s.invoicesCount)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"متوسط الفاتورة:"}),e.jsx("span",{className:"font-medium",children:a(s.salesAmount/s.invoicesCount)})]}),e.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[e.jsx("span",{className:"text-gray-900 font-medium",children:"كفاءة التحصيل:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[(s.cashCollected/s.salesAmount*100).toFixed(1),"%"]})]})]})]})]})]})]})]})]})}export{F as default};
