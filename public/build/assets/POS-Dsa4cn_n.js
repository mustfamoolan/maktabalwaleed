import{r as n,j as e,H as N}from"./app-y4GiZYjz.js";import{H as k}from"./HeadquartersLayout-2CkVJdbo.js";function M(){const[r,l]=n.useState([]),[o,x]=n.useState(""),[i,h]=n.useState("all"),[m,u]=n.useState(new Date);n.useEffect(()=>{const s=setInterval(()=>u(new Date),1e3);return()=>clearInterval(s)},[]);const g=[{id:1,name:"كتاب التاريخ الإسلامي",price:45e3,category:"books",stock:25,barcode:"1001"},{id:2,name:"دفتر 200 ورقة",price:12e3,category:"notebooks",stock:100,barcode:"1002"},{id:3,name:"قلم حبر أزرق",price:3e3,category:"pens",stock:200,barcode:"1003"},{id:4,name:"آلة حاسبة علمية",price:85e3,category:"calculators",stock:15,barcode:"1004"},{id:5,name:"كتاب الرياضيات",price:38e3,category:"books",stock:30,barcode:"1005"},{id:6,name:"مجموعة أقلام ملونة",price:25e3,category:"pens",stock:50,barcode:"1006"},{id:7,name:"دفتر رسم A4",price:18e3,category:"notebooks",stock:40,barcode:"1007"},{id:8,name:"مسطرة 30 سم",price:5e3,category:"tools",stock:80,barcode:"1008"}],b=[{id:"all",name:"جميع المنتجات",icon:"M4 6h16M4 10h16M4 14h16M4 18h16"},{id:"books",name:"الكتب",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},{id:"notebooks",name:"الدفاتر",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},{id:"pens",name:"الأقلام",icon:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},{id:"calculators",name:"الآلات الحاسبة",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"},{id:"tools",name:"الأدوات",icon:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM7 3H5v12a2 2 0 104 0V3z"}],j=g.filter(s=>{const a=s.name.toLowerCase().includes(o.toLowerCase())||s.barcode.includes(o),t=i==="all"||s.category===i;return a&&t}),v=s=>{const a=r.find(t=>t.id===s.id);l(a?r.map(t=>t.id===s.id?{...t,quantity:t.quantity+1}:t):[...r,{...s,quantity:1}])},c=s=>{l(r.filter(a=>a.id!==s))},d=(s,a)=>{a<=0?c(s):l(r.map(t=>t.id===s?{...t,quantity:a}:t))},f=()=>r.reduce((s,a)=>s+a.price*a.quantity,0),p=()=>{l([])},y=s=>s.toLocaleTimeString("ar-SA",{hour12:!1,hour:"2-digit",minute:"2-digit"});return e.jsxs(k,{children:[e.jsx(N,{title:"نقطة البيع - المقر الرئيسي"}),e.jsx("div",{className:"p-4 h-[calc(100vh-56px)]",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-full",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-200 overflow-hidden h-full",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"المنتجات"}),e.jsx("div",{className:"text-lg font-semibold text-blue-600",children:y(m)})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("input",{type:"text",placeholder:"البحث بالاسم أو الباركود...",value:o,onChange:s=>x(s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("svg",{className:"absolute left-3 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map(s=>e.jsxs("button",{onClick:()=>h(s.id),className:`flex items-center space-x-2 space-x-reverse px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${i===s.id?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:s.icon})}),e.jsx("span",{children:s.name})]},s.id))})]}),e.jsx("div",{className:"p-4 overflow-y-auto",style:{height:"calc(100% - 180px)"},children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-3",children:j.map(s=>e.jsxs("div",{onClick:()=>v(s),className:"bg-gray-50 rounded-lg p-4 hover:bg-blue-50 hover:border-blue-200 border border-gray-200 cursor-pointer transition-all duration-200 transform hover:scale-105",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:s.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["#",s.barcode]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[s.price.toLocaleString()," د.ع"]}),e.jsxs("div",{className:`text-xs px-2 py-1 rounded-full ${s.stock>20?"bg-green-100 text-green-700":s.stock>5?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:["متوفر: ",s.stock]})]})]},s.id))})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden h-full",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"السلة"}),r.length>0&&e.jsx("button",{onClick:p,className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"مسح الكل"})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[r.length," منتج في السلة"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",style:{height:"calc(100% - 240px)"},children:r.length===0?e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.6 8M7 13v8a2 2 0 002 2h6a2 2 0 002-2v-8m-8 0V9a2 2 0 012-2h4a2 2 0 012 2v4.01"})}),e.jsx("p",{children:"السلة فارغة"}),e.jsx("p",{className:"text-xs mt-1",children:"اضغط على المنتج لإضافته"})]}):e.jsx("div",{className:"p-4 space-y-3",children:r.map(s=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:s.name}),e.jsx("button",{onClick:()=>c(s.id),className:"text-red-500 hover:text-red-700",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx("button",{onClick:()=>d(s.id,s.quantity-1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("span",{className:"w-8 text-center font-semibold",children:s.quantity}),e.jsx("button",{onClick:()=>d(s.id,s.quantity+1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),e.jsxs("div",{className:"text-blue-600 font-bold",children:[(s.price*s.quantity).toLocaleString()," د.ع"]})]})]},s.id))})}),r.length>0&&e.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-lg font-bold",children:[e.jsx("span",{children:"الإجمالي:"}),e.jsxs("span",{className:"text-blue-600",children:[f().toLocaleString()," د.ع"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:"إتمام البيع"}),e.jsx("button",{className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg transition-colors duration-200",children:"حفظ كمسودة"})]})]})})]})]})})]})}export{M as default};
