import{r as c,j as e,H as C}from"./app-DAYDMe4G.js";import{H as L}from"./HeadquartersLayout-47UsUVQt.js";import{L as A,C as S,a as $,b as B,P as z,c as V,d as D,p as P,e as H,f as W,A as E}from"./index-Ct2ldFtK.js";S.register($,B,z,V,D,P,H,W,E);function T(){const[o,b]=c.useState("overview"),[r,m]=c.useState(null),[u,x]=c.useState(!1),[f,y]=c.useState("2025-08"),[i,p]=c.useState("targets");c.useEffect(()=>{const s=a=>{a.key==="Escape"&&u&&(x(!1),m(null))};return u&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[u]);const n=[{id:1,name:"أحمد محمد علي",phone:"07701234567",email:"ahmed@example.com",area:"منطقة الكرادة",hireDate:"2023-01-15",baseSalary:1e6,commissionPlan:"targets",isActive:!0,performance:{currentMonth:{salesAmount:158e5,returnedGoods:42e4,totalBoxes:320,cashCollected:142e5,invoicesCount:45,clientsDebt:16e5,profit:158e4},targets:{food:{target:1500,achieved:1355,percentage:90.3},cleaning:{target:1200,achieved:980,percentage:81.7},suppliers:{"شركة جيهان":{target:3e3,achieved:2e3,remaining:1e3,category:"غذائية"},"شركة الروان":{target:4e3,achieved:2e3,remaining:2e3,category:"منظفات"},"شركة سدرة العائلة":{target:2500,achieved:1800,remaining:700,category:"مختلطة"}}},commission:{type:"targets",amount:285e3,percentage:87.5,details:{targetBonus:2e5,overAchievement:85e3}}}},{id:2,name:"فاطمة حسن قاسم",phone:"07709876543",email:"fatima@example.com",area:"منطقة الجادرية",hireDate:"2023-03-20",baseSalary:1e6,commissionPlan:"boxes",isActive:!0,performance:{currentMonth:{salesAmount:182e5,returnedGoods:28e4,totalBoxes:450,cashCollected:168e5,invoicesCount:52,clientsDebt:14e5,profit:182e4},targets:{boxes:{target:400,achieved:450,percentage:112.5}},commission:{type:"boxes",amount:135e3,percentage:112.5,details:{boxesCommission:135e3,pricePerBox:300}}}},{id:3,name:"محمد صالح إبراهيم",phone:"07705555444",email:"mohammed@example.com",area:"منطقة الدورة",hireDate:"2023-05-10",baseSalary:1e6,commissionPlan:"profit",isActive:!0,performance:{currentMonth:{salesAmount:125e5,returnedGoods:35e4,totalBoxes:280,cashCollected:112e5,invoicesCount:38,clientsDebt:13e5,profit:125e4},commission:{type:"profit",amount:25e4,percentage:20,details:{profitShare:25e4,profitPercentage:20}}}},{id:4,name:"زينب عباس محمد",phone:"07703333222",email:"zainab@example.com",area:"منطقة الشعلة",hireDate:"2023-07-01",baseSalary:1e6,commissionPlan:"targets",isActive:!1,performance:{currentMonth:{salesAmount:89e5,returnedGoods:18e4,totalBoxes:190,cashCollected:82e5,invoicesCount:28,clientsDebt:7e5,profit:89e4},targets:{food:{target:1200,achieved:680,percentage:56.7},cleaning:{target:800,achieved:520,percentage:65}},commission:{type:"targets",amount:89e3,percentage:61.2,details:{targetBonus:89e3,penalty:-15e4}}}}],v={labels:["Mar 2025","Apr 2025","May 2025","Jun 2025","Jul 2025","Aug 2025"],datasets:[{label:"Total Sales",data:[48e6,52e6,58e6,55e6,61e6,65e6],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:3,fill:!0,tension:.1}]},t=s=>new Intl.NumberFormat("en-US").format(s)+" د.ع",l=s=>new Intl.NumberFormat("en-US").format(s),N=s=>new Date(s).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"}),w=s=>s?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",h=s=>s>=100?"text-green-600":s>=80?"text-yellow-600":"text-red-600",j=s=>s.baseSalary+s.performance.commission.amount,g=s=>{const{salesAmount:a,returnedGoods:M}=s.performance.currentMonth;return(a-M)/a*100},d={totalReps:n.length,activeReps:n.filter(s=>s.isActive).length,totalSales:n.reduce((s,a)=>s+a.performance.currentMonth.salesAmount,0),totalCommissions:n.reduce((s,a)=>s+a.performance.commission.amount,0),averagePerformance:n.reduce((s,a)=>a.performance.commission.type==="targets"||a.performance.commission.type==="boxes"?s+a.performance.commission.percentage:s+85,0)/n.length},k={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12},color:"#6b7280"}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",callbacks:{label:function(s){return`${s.dataset.label}: ${t(s.parsed.y)}`}}}},scales:{y:{beginAtZero:!0,grid:{color:"#e5e7eb"},ticks:{color:"#6b7280",callback:function(s){return t(s)}}},x:{grid:{color:"#e5e7eb"},ticks:{color:"#6b7280"}}}};return e.jsxs(L,{children:[e.jsx(C,{title:"إدارة المندوبين"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"إدارة المندوبين"}),e.jsx("p",{className:"text-gray-600",children:"إدارة شاملة للمندوبين والرواتب والحوافز"})]}),e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsxs("select",{value:f,onChange:s=>y(s.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"2025-08",children:"August 2025"}),e.jsx("option",{value:"2025-07",children:"July 2025"}),e.jsx("option",{value:"2025-06",children:"June 2025"})]}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"إضافة مندوب جديد"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l(d.totalReps)}),e.jsx("div",{className:"text-sm text-gray-600",children:"إجمالي المندوبين"})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l(d.activeReps)}),e.jsx("div",{className:"text-sm text-gray-600",children:"المندوبين النشطين"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})})]})}),e.jsx("div",{className:"bg-purple-50 rounded-xl p-6 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t(d.totalSales)}),e.jsx("div",{className:"text-sm text-gray-600",children:"إجمالي المبيعات"})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-orange-50 rounded-xl p-6 border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t(d.totalCommissions)}),e.jsx("div",{className:"text-sm text-gray-600",children:"إجمالي الحوافز"})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]})}),e.jsx("div",{className:"bg-yellow-50 rounded-xl p-6 border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[d.averagePerformance.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"متوسط الأداء"})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 space-x-reverse",children:[{id:"overview",name:"نظرة عامة",icon:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},{id:"performance",name:"الأداء والرواتب",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},{id:"targets",name:"الأهداف والحوافز",icon:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"},{id:"reports",name:"التقارير التفصيلية",icon:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}].map(s=>e.jsxs("button",{onClick:()=>b(s.id),className:`${o===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap pb-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 space-x-reverse`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s.icon})}),e.jsx("span",{children:s.name})]},s.id))})}),o==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"أداء المبيعات - آخر 6 أشهر"}),e.jsx("div",{style:{height:"300px"},children:e.jsx(A,{data:v,options:k})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"أفضل المندوبين هذا الشهر"}),e.jsx("div",{className:"space-y-4",children:n.sort((s,a)=>a.performance.currentMonth.salesAmount-s.performance.currentMonth.salesAmount).slice(0,3).map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${a===0?"bg-yellow-500":a===1?"bg-gray-400":"bg-amber-600"}`,children:a+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.area})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold text-green-600",children:t(s.performance.currentMonth.salesAmount)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[l(s.performance.currentMonth.totalBoxes)," كرتون"]})]})]},s.id))})]})]}),o==="performance"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"جدول الأداء والرواتب"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المندوب"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المبيعات"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الكراتين"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"نسبة الأداء"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الراتب الأساسي"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحافز"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجمالي"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العمليات"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.area}),e.jsx("div",{className:"text-xs text-gray-400",children:s.phone})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900",children:t(s.performance.currentMonth.salesAmount)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["المرتجع: ",t(s.performance.currentMonth.returnedGoods)]})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l(s.performance.currentMonth.totalBoxes)}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:`text-sm font-medium ${h(s.performance.commission.percentage)}`,children:[s.performance.commission.percentage.toFixed(1),"%"]}),e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:`h-2 rounded-full ${s.performance.commission.percentage>=100?"bg-green-600":s.performance.commission.percentage>=80?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,s.performance.commission.percentage)}%`}})})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:t(s.baseSalary)}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:`text-sm font-medium ${s.performance.commission.amount>=0?"text-green-600":"text-red-600"}`,children:t(s.performance.commission.amount)}),e.jsx("div",{className:"text-xs text-gray-500",children:s.commissionPlan})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-bold text-gray-900",children:t(j(s))})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${w(s.isActive)}`,children:s.isActive?"نشط":"غير نشط"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>{m(s),x(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"التفاصيل الكاملة"})})]},s.id))})]})})]})}),o==="targets"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"إدارة أنظمة الحوافز"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:`p-6 rounded-lg border-2 cursor-pointer transition-all ${i==="targets"?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>p("targets"),children:[e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse mb-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${i==="targets"?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),e.jsx("h4",{className:"font-semibold",children:"الخطة الأولى: الأهداف المحددة"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"تحديد أهداف حسب نوع المنتج والشركة الموردة لتشجيع بيع جميع الأصناف"}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• أهداف بحسب فئة المنتجات (غذائية، منظفات)"}),e.jsx("li",{children:"• أهداف خاصة بكل مورد"}),e.jsx("li",{children:"• حوافز للتجاوز + خصومات للنقص"})]})]}),e.jsxs("div",{className:`p-6 rounded-lg border-2 cursor-pointer transition-all ${i==="boxes"?"border-green-500 bg-green-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>p("boxes"),children:[e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse mb-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${i==="boxes"?"bg-green-500 text-white":"bg-gray-100 text-gray-600"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),e.jsx("h4",{className:"font-semibold",children:"الخطة الثانية: عمولة الكراتين"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"هدف كلي لعدد الكراتين مع عمولة ثابتة لكل كرتون"}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• 300 دينار لكل كرتون مباع"}),e.jsx("li",{children:"• هدف شهري: 6000 كرتون"}),e.jsx("li",{children:"• حساب تلقائي للاستحقاق"})]})]}),e.jsxs("div",{className:`p-6 rounded-lg border-2 cursor-pointer transition-all ${i==="profit"?"border-purple-500 bg-purple-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>p("profit"),children:[e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse mb-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${i==="profit"?"bg-purple-500 text-white":"bg-gray-100 text-gray-600"}`,children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h4",{className:"font-semibold",children:"الخطة الثالثة: عمولة الربح"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"نسبة مئوية من الربح المحقق من مبيعات المندوب"}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• 20% من صافي الربح"}),e.jsx("li",{children:"• تشجيع على زيادة المبيعات"}),e.jsx("li",{children:"• حساب حسب الفرق بين البيع والشراء"})]})]})]})]}),i==="targets"&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"إعداد الأهداف حسب الفئات والموردين"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"الأهداف حسب فئات المنتجات"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المواد الغذائية"}),e.jsx("input",{type:"number",placeholder:"الهدف الشهري (قطعة)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"1500"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المنظفات"}),e.jsx("input",{type:"number",placeholder:"الهدف الشهري (قطعة)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"1200"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"الأهداف حسب الموردين"}),e.jsx("div",{className:"space-y-4",children:[{name:"شركة جيهان",category:"غذائية",target:3e3},{name:"شركة الروان",category:"منظفات",target:4e3},{name:"شركة سدرة العائلة",category:"مختلطة",target:2500}].map((s,a)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"اسم المورد"}),e.jsx("input",{type:"text",value:s.name,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"فئة المنتجات"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"غذائية",children:"غذائية"}),e.jsx("option",{value:"منظفات",children:"منظفات"}),e.jsx("option",{value:"مختلطة",children:"مختلطة"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الهدف الشهري"}),e.jsx("input",{type:"number",defaultValue:s.target,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})},a))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"إعدادات نسب الأداء"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحد الأدنى للراتب الكامل"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",defaultValue:"80",min:"0",max:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-500",children:"%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"نسبة حافز التجاوز"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",defaultValue:"10",min:"0",max:"50",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-500",children:"%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"نسبة خصم النقص"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",defaultValue:"15",min:"0",max:"50",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-500",children:"%"})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium",children:"حفظ إعدادات الأهداف"})})]}),i==="boxes"&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"إعداد نظام عمولة الكراتين"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الهدف الشهري للكراتين"}),e.jsx("input",{type:"number",defaultValue:"6000",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"عدد الكراتين المطلوب بيعها شهرياً"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"العمولة لكل كرتون"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",defaultValue:"300",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"}),e.jsx("span",{className:"ml-2 text-gray-500",children:"د.ع"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"المبلغ المدفوع لكل كرتون مباع"})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mt-6",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"حساب العمولة المتوقعة"}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsxs("p",{children:["إذا باع المندوب 6000 كرتون × 300 د.ع = ",e.jsx("span",{className:"font-bold",children:"1,800,000 د.ع"})," شهرياً"]}),e.jsxs("p",{children:["الراتب الإجمالي: 1,000,000 (راتب أساسي) + 1,800,000 (عمولة) = ",e.jsx("span",{className:"font-bold",children:"2,800,000 د.ع"})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium",children:"حفظ إعدادات الكراتين"})})]}),i==="profit"&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"إعداد نظام عمولة الربح"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"نسبة العمولة من الربح"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",defaultValue:"20",min:"5",max:"50",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-gray-500",children:"%"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"نسبة المندوب من صافي الربح"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحد الأدنى للربح"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"number",defaultValue:"100",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),e.jsx("span",{className:"ml-2 text-gray-500",children:"د.ع"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"أقل ربح لكل منتج لحساب العمولة"})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 mt-6",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"مثال على حساب العمولة"}),e.jsxs("div",{className:"text-sm text-purple-700",children:[e.jsx("p",{children:"المنتج: سعر الشراء 1000 د.ع، سعر البيع 1100 د.ع"}),e.jsxs("p",{children:["الربح: 100 د.ع × 20% = ",e.jsx("span",{className:"font-bold",children:"20 د.ع"})," عمولة للمندوب"]}),e.jsxs("p",{children:["لو باع 1000 قطعة في الشهر: 1000 × 20 = ",e.jsx("span",{className:"font-bold",children:"20,000 د.ع"})," عمولة إضافية"]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-medium",children:"حفظ إعدادات الربح"})})]})]}),o==="reports"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t(d.totalSales)}),e.jsx("div",{className:"text-sm text-gray-600",children:"إجمالي مبيعات الشهر"})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-red-50 rounded-xl p-6 border border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t(123e4)}),e.jsx("div",{className:"text-sm text-gray-600",children:"البضاعة المرتجعة"})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m5 14-3-3m3 3l-3 3"})})})]})}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t(51e6)}),e.jsx("div",{className:"text-sm text-gray-600",children:"النقد المحصل"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),e.jsx("div",{className:"bg-orange-50 rounded-xl p-6 border border-orange-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t(5e6)}),e.jsx("div",{className:"text-sm text-gray-600",children:"مجموع الديون"})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"التقرير التفصيلي للمندوبين"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المندوب"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المبيعات"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المرتجعات"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الكراتين"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"النقد المحصل"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الفواتير"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الديون"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الربح"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الكفاءة"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.area})]}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-green-600",children:t(s.performance.currentMonth.salesAmount)}),e.jsx("td",{className:"px-6 py-4 text-sm text-red-600",children:t(s.performance.currentMonth.returnedGoods)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l(s.performance.currentMonth.totalBoxes)}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-blue-600",children:t(s.performance.currentMonth.cashCollected)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l(s.performance.currentMonth.invoicesCount)}),e.jsx("td",{className:"px-6 py-4 text-sm text-orange-600",children:t(s.performance.currentMonth.clientsDebt)}),e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-green-600",children:t(s.performance.currentMonth.profit)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[g(s).toFixed(1),"%"]}),e.jsx("div",{className:"ml-2 w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${g(s)>=95?"bg-green-500":g(s)>=90?"bg-yellow-500":"bg-red-500"}`,style:{width:`${g(s)}%`}})})]})})]},s.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"تحليل المبيعات حسب فئات المنتجات"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.slice(0,2).map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:s.name}),s.performance.targets&&s.performance.targets.food&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"المواد الغذائية:"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:[l(s.performance.targets.food.achieved)," / ",l(s.performance.targets.food.target)]}),e.jsxs("div",{className:`text-xs ${h(s.performance.targets.food.percentage)}`,children:[s.performance.targets.food.percentage,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"المنظفات:"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium",children:[l(s.performance.targets.cleaning.achieved)," / ",l(s.performance.targets.cleaning.target)]}),e.jsxs("div",{className:`text-xs ${h(s.performance.targets.cleaning.percentage)}`,children:[s.performance.targets.cleaning.percentage,"%"]})]})]})]})]},s.id))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"تصدير التقارير"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"تصدير Excel"}),e.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"تصدير PDF"}),e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"إرسال تقرير شهري"}),e.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"طباعة كشف الرواتب"})]})]})]}),u&&r&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:()=>{x(!1),m(null)}}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"relative inline-block align-bottom bg-white rounded-lg text-right overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:[e.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:["تفاصيل المندوب - ",r.name]}),e.jsx("button",{onClick:()=>{x(!1),m(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"المعلومات الشخصية"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"الهاتف:"}),e.jsx("span",{className:"font-mono",children:r.phone})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"البريد:"}),e.jsx("span",{children:r.email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"المنطقة:"}),e.jsx("span",{children:r.area})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"تاريخ التوظيف:"}),e.jsx("span",{children:N(r.hireDate)})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"أداء المبيعات"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"إجمالي المبيعات:"}),e.jsx("span",{className:"font-bold text-blue-600",children:t(r.performance.currentMonth.salesAmount)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"البضاعة المرتجعة:"}),e.jsx("span",{className:"text-red-600",children:t(r.performance.currentMonth.returnedGoods)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"صافي المبيعات:"}),e.jsx("span",{className:"font-bold",children:t(r.performance.currentMonth.salesAmount-r.performance.currentMonth.returnedGoods)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"الكفاءة:"}),e.jsxs("span",{className:"font-medium text-green-600",children:[g(r).toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"المعلومات المالية"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"النقد المحصل:"}),e.jsx("span",{className:"font-bold text-green-600",children:t(r.performance.currentMonth.cashCollected)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ديون العملاء:"}),e.jsx("span",{className:"text-orange-600",children:t(r.performance.currentMonth.clientsDebt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"عدد الفواتير:"}),e.jsx("span",{children:l(r.performance.currentMonth.invoicesCount)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"الربح المحقق:"}),e.jsx("span",{className:"font-bold text-green-600",children:t(r.performance.currentMonth.profit)})]})]})]})]}),r.performance.commission.type==="targets"&&r.performance.targets&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"تفاصيل الأهداف والحوافز"}),r.performance.targets.food&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-orange-900 mb-3",children:"المواد الغذائية"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"الهدف:"}),e.jsx("span",{className:"font-bold",children:l(r.performance.targets.food.target)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"المحقق:"}),e.jsx("span",{className:"font-bold text-green-600",children:l(r.performance.targets.food.achieved)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"النسبة:"}),e.jsxs("span",{className:`font-bold ${h(r.performance.targets.food.percentage)}`,children:[r.performance.targets.food.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-2",children:e.jsx("div",{className:`h-3 rounded-full ${r.performance.targets.food.percentage>=100?"bg-green-500":r.performance.targets.food.percentage>=80?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,r.performance.targets.food.percentage)}%`}})})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-3",children:"المنظفات"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"الهدف:"}),e.jsx("span",{className:"font-bold",children:l(r.performance.targets.cleaning.target)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"المحقق:"}),e.jsx("span",{className:"font-bold text-green-600",children:l(r.performance.targets.cleaning.achieved)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"النسبة:"}),e.jsxs("span",{className:`font-bold ${h(r.performance.targets.cleaning.percentage)}`,children:[r.performance.targets.cleaning.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-2",children:e.jsx("div",{className:`h-3 rounded-full ${r.performance.targets.cleaning.percentage>=100?"bg-green-500":r.performance.targets.cleaning.percentage>=80?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,r.performance.targets.cleaning.percentage)}%`}})})]})]})]}),r.performance.targets.suppliers&&e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 mb-3",children:"أهداف الموردين"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(r.performance.targets.suppliers).map(([s,a])=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h6",{className:"font-medium text-gray-900 mb-2",children:s}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"الفئة:"}),e.jsx("span",{className:"text-purple-600",children:a.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"الهدف:"}),e.jsx("span",{className:"font-bold",children:l(a.target)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"المحقق:"}),e.jsx("span",{className:"font-bold text-green-600",children:l(a.achieved)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"الباقي:"}),e.jsx("span",{className:"font-bold text-red-600",children:l(a.remaining)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${a.achieved/a.target*100}%`}})})]})]},s))})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"تفصيل الراتب والحوافز"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"الراتب الأساسي"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t(r.baseSalary)}),e.jsx("div",{className:"text-sm text-gray-600",children:"راتب ثابت شهري"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-green-900 mb-2",children:"الحافز"}),e.jsx("div",{className:`text-2xl font-bold ${r.performance.commission.amount>=0?"text-green-600":"text-red-600"}`,children:t(r.performance.commission.amount)}),e.jsx("div",{className:"text-sm text-gray-600",children:r.commissionPlan==="targets"?"نظام الأهداف":r.commissionPlan==="boxes"?"نظام الكراتين":"نظام الربح"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-purple-900 mb-2",children:"الإجمالي"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t(j(r))}),e.jsx("div",{className:"text-sm text-gray-600",children:"الراتب النهائي"})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:e.jsx("button",{type:"button",onClick:()=>{x(!1),m(null)},className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm transition-colors duration-200",children:"إغلاق"})})]})]})})]})]})}export{T as default};
